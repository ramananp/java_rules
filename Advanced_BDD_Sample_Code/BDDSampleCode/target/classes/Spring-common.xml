<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:jee="http://www.springframework.org/schema/jee"
	xmlns:aop="http://www.springframework.org/schema/aop"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
	http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
	http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
	http://www.springframework.org/schema/tx 
	http://www.springframework.org/schema/tx/spring-tx-3.0.xsd">
   
   	<import resource="Spring-MQConfig.xml" />
   	<import resource="Spring-TSGQConfig.xml" />
       
	<aop:aspectj-autoproxy />
	<context:component-scan base-package="com.jpmchase.aata.services.rest" />
	 
	 	<bean id="sqlMapClient" 
    		class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">    	
	        <property name="configLocation">
	            <value>/WEB-INF/config/SqlMapConfig.xml</value>
	        </property>
    	</bean>
    	
    	<bean id="sqlMapClientOL" 
    		class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">    	
	        <property name="configLocation">
	            <value>/WEB-INF/config/SqlMapConfig_OL.xml</value>
	        </property>
    	</bean>
    	    	  	
    	<bean id="JndiDatasource" class="org.springframework.jndi.JndiObjectFactoryBean">
    		<property name="jndiName" value="jdbc/AATAService"/>
    	</bean>
    	
    	 <bean id="JndiDatasourceOL" class="org.springframework.jndi.JndiObjectFactoryBean">
    		<property name="jndiName" value="jdbc/AATAServiceOL"/>
    	</bean>
    	   	
    	<bean id="transactionManagerdw" class="org.springframework.jdbc.datasource.DataSourceTransactionManager" >
    		<property name="dataSource" ref="JndiDatasource"/>
    	</bean>
    	
    	<bean id="transactionManagerol" class="org.springframework.jdbc.datasource.DataSourceTransactionManager" >
    		<property name="dataSource" ref="JndiDatasourceOL"/>
    	</bean>
        
	<bean id="contextLoader" class="com.jpmchase.aata.services.context.ContextLoader"></bean>
	
	<bean id="securityResourceFilter" class="com.jpmorgan.pb.rest.request.SecurityResourceFilter" />
 
 	<bean id="userInfoProvider" class="com.jpmchase.aata.services.rest.impl.AATAUserInfoProviderImpl" />
 	
	<bean id="requestContext" scope="request" init-method="init" class="com.jpmchase.aata.services.rest.impl.AATARequestContextImpl">
		<property name="config" ref="appConfig"></property>
		<property name="contextLoader" ref="contextLoader"/>		
	</bean>
		
	<bean id="userContext" scope="request" class="com.jpmchase.aata.services.rest.impl.AATAUserContextImpl">
		<constructor-arg index="0" ref="requestContext" />
		<constructor-arg index="1" ref="userInfoProvider" />
	</bean>
	
	<bean id="aataAppContextInfo" class="com.jpmchase.aata.services.context.AATAApplicationContext"
		init-method="initialize">
		<property name="contextLoader" ref="contextLoader" />
	</bean>
	<bean id="mwToAataModelConverter" class="com.jpmchase.aata.services.utils.MiddlewareToAataModelConverter"></bean>
	
	<bean id="sessionContextInfo" scope="request" init-method="init" class="com.jpmchase.aata.services.context.SessionContext">
		<property name="requestContext" ref="requestContext" />
		<property name="userContext" ref="userContext" />
		<property name="aataAppContextInfo" ref="aataAppContextInfo" />
		<property name="contextLoader" ref="contextLoader" />
	</bean>	           
	  <bean id="workFlowBO" class="com.jpmchase.aata.services.bo.AATAWorkFlowBO">
			<property name="aataAppContextInfo" ref="aataAppContextInfo" />
	</bean>
	
	<bean id="aataMiddlewareUtility" class="com.jpmchase.aata.services.utils.AATAMiddlewareUtility">
			<property name="aataAppContextInfo" ref="aataAppContextInfo" />
			<property name="mwToAataModelConverter" ref="mwToAataModelConverter" />
	</bean>
	
	<bean id="aataStandardBO" class="com.jpmchase.aata.services.bo.AATAStandardBO">
	</bean>
	<bean id="aataFreeDeliveryBO" class="com.jpmchase.aata.services.bo.AATAFreeDeliveryBO">
		<property name="aataAppContextInfo" ref="aataAppContextInfo" />
	</bean>
	<bean id="aataFreeReceiveBO" class="com.jpmchase.aata.services.bo.AATAFreeReceiveBO">
	</bean>
	<bean id="aataGiftBO" class="com.jpmchase.aata.services.bo.AATAGiftBO">
		<property name="aataAppContextInfo" ref="aataAppContextInfo" />
	</bean>
	<bean id="aataStatusBO" class="com.jpmchase.aata.services.bo.AATAStatusBO">
	</bean>
			
		
	<bean id="workflowUtility" class="com.jpmchase.aata.services.utils.WorkFlowUtility" init-method="initialize">
			<property name="aataAppContextInfo" ref="aataAppContextInfo" />
		</bean>         
	<bean id="pickListUtility" class="com.jpmchase.aata.services.utils.AATAPickListUtil">
			<property name="aataAppContextInfo" ref="aataAppContextInfo" />
	 </bean>         
	 <bean id="citadelUtility" class="com.jpmchase.aata.services.utils.CitadelUtility" init-method="initialize">
			<property name="aataAppContextInfo" ref="aataAppContextInfo" />
		</bean>         
	 <bean id="commentsBO" class="com.jpmchase.aata.services.bo.AATACommentsBO">
        	<property name="aataAppContextInfo" ref="aataAppContextInfo" />
     </bean>
     <bean id="attachmentBO" class="com.jpmchase.aata.services.bo.AATAAttachmentBO">
           	<property name="aataAppContextInfo" ref="aataAppContextInfo" />
     </bean>
     <bean id="aataSanctionBO" class="com.jpmchase.aata.services.bo.AATASanctionBO">
		<property name="aataAppContextInfo" ref="aataAppContextInfo" />
	</bean>
		
 	<import resource="Spring-DAO.xml"/>
	<import resource="Spring-beans.xml"/>
	<import resource="spring-view.xml"/>
	<import resource="Spring-REST.xml"/>  
	      
        		    
</beans>