<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "sql-map-2.dtd">
<sqlMap namespace="AATAWorkFlowUtility">

<!-- START : Proc sp_at_saveTicketDtls  -->

	<parameterMap id="spAiSaveTktDtlsParam" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="childCaseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="assetSeqNum" jdbcType="INTEGER" javaType="java.lang.Integer" mode="IN" />
		<parameter property="wfHierarchyId" jdbcType="INTEGER" javaType="java.lang.Integer" mode="IN" />
		<parameter property="wfProcessId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfActivityId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfActivityTypeCode" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfActivityStatus" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfCaseStatus" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfStepCode" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfCurrentOwner" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfCurrentOwnerName" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfCurrentOwningTeamCd" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="loginUid" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>
	
	<procedure id="spAiSaveTktDtls" parameterMap="spAiSaveTktDtlsParam">
		{call AATA..sp_at_saveTicketDtls(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)}
	</procedure>

<!-- END : Proc sp_at_saveTicketDtls  -->

<!-- START : Proc sp_at_getTicketDtls  -->
	<parameterMap id="spAiGetTicketDtlsParam" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="loginUid" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>
	
	<resultMap id="spAiGetTicketDtlsResult" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<result property="childCaseId" column="childCaseId" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="caseId" column="caseId" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="assetSeqNum" column="asetSeqNum" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="wfHierarchyId" column="hierId" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="wfProcessId" column="procId" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfActivityId" column="actvId" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfActivityTypeCode" column="actvTypCd" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfActivityStatus" column="actvSts" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCaseStatus" column="caseSts" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfStepCode" column="stepCd" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCurrentOwner" column="CurrOwnStdId" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCurrentOwnerName" column="CurrOwnName" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCurrentOwningTeamCd" column="CurrOwnTmCd" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="createdBy" column="createdBy" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="createDt" column="createdTimestamp" jdbcType="DATE" javaType="java.util.Date"/>
		<result property="updatedBy" column="lastUpdatedBy" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="updateDt" column="lastUpdatedTimestamp" jdbcType="DATETIME" javaType="java.sql.Timestamp"/>
		<result property="button1" column="Button1" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="button2" column="Button2" jdbcType="VARCHAR" javaType="java.lang.String"/>
	</resultMap>
	
	<procedure id="spAiGetTicketDtls" parameterMap="spAiGetTicketDtlsParam" resultMap="spAiGetTicketDtlsResult">
		{call AATA..sp_at_getTicketDtls(?,?,?,?)}
	</procedure>
<!-- END : Proc sp_at_getTicketDtls  -->

<!-- START : Proc sp_at_getNextStage   -->
	<parameterMap id="spAtNextStageDtlsParam" class="com.jpmchase.aata.services.to.CaseDtlsTO">
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="actionTaken" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>
	
	<resultMap id="spAtNextStageDtlsResult" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<result property="wfCurrentSeqNum" column="in_vcCurrSeqNum" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="wfCurrentApprovalCategory" column="in_vcCurrApprvlCateg" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfNextSeqNum" column="in_vcNextSeqNumm" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="wfNextApprovalCategory" column="in_vcNextApprvlCateg" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfActionTaken" column="in_vcActionTaken" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfNextOwner" column="in_vcNextOwnSID" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfNextOwningTeamCd" column="in_vcNextOwnTmCd" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfNextActivityTypeCode" column="in_vcNextActvTypCd" jdbcType="VARCHAR" javaType="java.lang.String"/>
	</resultMap>
	
	<procedure id="spAtNextStageDtls" parameterMap="spAtNextStageDtlsParam" resultMap="spAtNextStageDtlsResult">
		{call AATA..sp_at_getNextStage (?,?,?,?)}
	</procedure>
<!-- END : Proc sp_at_getNextStage   -->

<!-- START : Proc sp_at_updateStage -->
	<parameterMap id="spAtUpdateStageParam" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfCurrentSeqNum" jdbcType="INTEGER" javaType="java.lang.Integer" mode="IN"/>
		<parameter property="wfCurrentApprovalCategory" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfStatus" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfNextSeqNum" jdbcType="INTEGER" javaType="java.lang.Integer" mode="IN" />
		<parameter property="wfNextApprovalCategory" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN"/>
		<parameter property="wfProcessId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="wfActivityId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="childTicketCreate" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
		<parameter property="stpFlag" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />		
		<parameter property="loginUid" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />		
		<parameter property="fircoSoftFlag" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>
	
	<resultMap id="spAtCreateChildResult" class="com.jpmchase.aata.services.to.EmailNotificationTO">
		<result property="notificationId" column="NotificationID" jdbcType="INTEGER" javaType="java.lang.Integer"/> 
		<result property="caseId" column="CaseID" jdbcType="VARCHAR" javaType="java.lang.String"/> 
		<result property="fromName" column="FromName" jdbcType="VARCHAR" javaType="java.lang.String"/> 
	    <result property="fromAddress" column="FromAddress" jdbcType="VARCHAR" javaType="java.lang.String"/> 	
		<result property="toAddress" column="ToAddress" jdbcType="VARCHAR" javaType="java.lang.String"/> 
		<result property="ccAddress" column="CCAddress" jdbcType="VARCHAR" javaType="java.lang.String"/> 
		<result property="bccAddress" column="BCCAddress" jdbcType="VARCHAR" javaType="java.lang.String"/> 
		<result property="subject" column="Subject" jdbcType="VARCHAR" javaType="java.lang.String"/> 
		<result property="body" column="Body" jdbcType="VARCHAR" javaType="java.lang.String"/> 
		<result property="footer" column="Footer" jdbcType="VARCHAR" javaType="java.lang.String"/>
	</resultMap>
	
	<procedure id="spAtUpdateStage" parameterMap="spAtUpdateStageParam" resultMap="spAtCreateChildResult">
		{call AATA..sp_at_updateStage (?,?,?,?,?,?,?,?,?,?,?,?,?,?)}
	</procedure>
<!-- END : Proc sp_at_updateStage   -->

<!-- START : Proc sp_at_generateRoute  -->
	<parameterMap id="spGetGenerateRouteParam" class="com.jpmchase.aata.services.to.AATAAssetTransferWrapperTO">
		 		
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" /> 
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
		   		 
	</parameterMap>
	  	
	<!--<resultMap id="spGetMasterRouteWfResult" class="com.jpmchase.aata.services.to.ApproverSelectionTO">
	  			
		<result property="sequenceNo" column="SeqNum" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="approverType" column="ApproverType" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="enabledFlag" column="EnabledFlag" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="approvingTeam" column="ApprovingTeam" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="approverStatus" column="ApproverStatus" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="approvedDate" column="ApprovedDate" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="selectedApproverId" column="ApproverSid" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="activityTypeCode" column="ActivityTypCd" jdbcType="VARCHAR" javaType="java.lang.String"/>
		
	</resultMap>
	  		
	--><procedure id="spGetGenerateRoute" parameterMap="spGetGenerateRouteParam" >
	 			{call AATA..sp_at_generateRoute(?,?,?)}
	</procedure>
<!-- END : Proc sp_at_generateRoute  -->


<!-- START : Proc sp_at_childTicketCr  -->
	<parameterMap id="spAtCreateChildTicketParam" class="java.util.HashMap">
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
	</parameterMap>
	
	<resultMap id="spAtCreateChildTicketResult" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<result property="childCaseId" column="CASE_ID" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="caseId" column="PARENT_CASE_ID" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="assetSeqNum" column="CHILD_CASE_SEQ_NUM" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="wfHierarchyId" column="HIERARCHY_ID" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="relationType" column="REL_TYPE" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCaseTemplateName" column="PROC_TMPL_CD" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCategoryCode" column="CAT_CD" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfRequestTypeCode" column="RQST_TYP_CD" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfRequestSubTypeCode" column="RQST_SUBTYP_CD" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="priRisk" column="PRI_RISK" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCurrentOwner" column="OWN_STD" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="wfCurrentOwningTeamCd" column="OWN_TM_CD" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="odsPartyId" column="PARTY_ID" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="partyAltId" column="PARTY_ALT_ID" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="partyAltType" column="PARTY_ALT_TYP" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="accountNumber" column="ACCT_NO" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result property="prodCode" column="PROD_CD" jdbcType="INTEGER" javaType="java.lang.Integer"/>
		<result property="wfBusinessSystemCode" column="BUS_SYS_CD" jdbcType="VARCHAR" javaType="java.lang.String"/>
	</resultMap>
	
	<procedure id="spAtCreateChildTicket" parameterMap="spAtCreateChildTicketParam" resultMap="spAtCreateChildTicketResult">
		{call AATA..sp_at_childTicketCr(?)}
	</procedure>
<!-- END : Proc sp_at_childTicketCr  -->


<!-- START : Proc sp_at_saveSTPResponse  -->
	<parameterMap id="spAtSaveSTPResponseParam" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpResponseType" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpRefNo" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="msgHubRefNo" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpStatus" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpRen" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpErrorCodeStr" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpErrorDescStr" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>

	<procedure id="spAtSaveSTPResponse" parameterMap="spAtSaveSTPResponseParam" >
		{call AATA..sp_at_saveSTPResponse( ?,?,? , ?,?,? , ?,?,?,? )}
	</procedure>
<!-- END : Proc sp_at_saveSTPResponse  -->




<!-- START : Proc sp_at_saveSTPResponse  -->
	<parameterMap id="spAtSaveMFSTPResponseParam" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpResponseType" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpRefNo" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="msgHubRefNo" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpStatus" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpRen" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpErrorCodeStr" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="stpErrorDescStr" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>

	<procedure id="spAtSaveMFSTPResponse" parameterMap="spAtSaveMFSTPResponseParam" >
		{call AATA..sp_at_saveMFSTPResponse( ?,?,? , ?,?,? , ?,?,?,? )}
	</procedure>
<!-- END : Proc sp_at_saveSTPResponse  -->


<!-- START : Proc spAtSetEmailNotificationParam -->
	<parameterMap id="spAtSetEmailNotificationParam" class="com.jpmchase.aata.services.to.AATAHeaderTO">
		<parameter property="emailNotification" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="caseId" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />
		<parameter property="errorCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />
		<parameter property="errorMessage" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>
	
	<procedure id="spAtSetEmailNotification" parameterMap="spAtSetEmailNotificationParam">
		{call AATA..sp_at_setEmailNotification(?,?,?,?)}
	</procedure>
<!-- END : Proc sp_at_setEmailNotification   -->
</sqlMap>